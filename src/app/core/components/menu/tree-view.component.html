<aside class="main-sidebar">
    <section class="sidebar">
        <ul class="sidebar-menu" data-widget="tree">
            <ng-template #recursiveList let-links>
                <ng-container *ngFor="let item of links; let idx = index">
                    <li *ngIf="item.header" class="header">{{item.header}}</li>

                    <li *ngIf="!item.sublinks && !item.external && !item.header" [routerLinkActive]="['active']">
                        <a [routerLink]="item.link" >
                            <i class="fa fa-{{item.icon}}"></i>
                            <span>{{item.title}} - {{idx}} - x</span>
                        </a>
                    </li>
                    <li *ngIf="item.external && !item.sublinks && !item.header">
                        <a [href]="item.link" [target]="item.target">
                            <i class="fa fa-{{item.icon}}"></i>
                            <span>{{item.title}}</span>
                        </a>
                    </li>                    
                    <li class="treeview" *ngIf="item.sublinks" [class.active]="item.sublinks[0].link === currentUrl">
                        <a href="#">
                            <i *ngIf="item.icon" class="fa fa-{{item.icon}}"></i>
                            <span>{{item.title}} - {{idx}}</span>
                            <span class="pull-right-container">
                                <i class="fa fa-angle-left pull-right"></i>
                            </span>
                        </a>
                        <ul class="treeview-menu" *ngIf="item.sublinks">
                            <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: item.sublinks}">
                            </ng-container>
                        </ul>
                    </li>
                </ng-container>
            </ng-template>
            <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: links }"> </ng-container>
        </ul>
    </section>
</aside>